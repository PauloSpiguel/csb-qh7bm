{"version":3,"sources":["App.js","index.js"],"names":["App","_mockData$currentFiel","_mockData$currentFiel2","_mockData$currentFiel3","_useState","useState","_useState2","Object","slicedToArray","currentField","setCurrentField","_useState3","_useState4","isActiveAdd","setIsActiveAdd","_useState5","_useState6","fields","setFields","_useState7","_useState8","customPropertier","setCustomPropertier","react_default","a","createElement","className","JSON","stringify","keys","map","key","value","concat","label","onClick","itemName","filterFields","objectSpread2","_filterFields$propert","filteredProperties","properties","filter","item","name","handleDelete","defaultValue","onChange","event","_event$currentTarget","currentTarget","prevState","defineProperty","disabled","find","includes","type","placeholder","length","react_rainbow_components","handleSelect","mockData","e","id","hideLabel","variant","option","customField","handleRemoveInput","newProperties","toConsumableArray","handleSave","ReactDOM","render","src_App","document","getElementById"],"mappings":"0lBA2QeA,EAlQH,WAAM,IAAAC,EAAAC,EAAAC,EAChBC,EAAwCC,mBAAS,IAAjDC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAAOK,EAAPH,EAAA,GAAqBI,EAArBJ,EAAA,GACAK,EAAsCN,oBAAS,GAA/CO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAAOE,EAAPD,EAAA,GAAoBE,EAApBF,EAAA,GACAG,EAA4BV,mBAAS,IAArCW,EAAAT,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAAOE,EAAPD,EAAA,GAAeE,EAAfF,EAAA,GACAG,EAAgDd,mBAAS,IAAzDe,EAAAb,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAAOE,EAAPD,EAAA,GAAyBE,EAAzBF,EAAA,GAiGA,OACEG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wDACZC,KAAKC,UAAUX,GAChBM,EAAAC,EAAAC,cAAA,UACGlB,OAAOsB,KAAKZ,GAAQa,IAAI,SAACC,GACxB,OAAKd,EAAOc,GAAKC,MAiBfT,EAAAC,EAAAC,cAAA,MAAIM,IAAKA,EAAKL,UAAU,QAAxB,GAAAO,OACMF,EADN,QAAAE,OACgBhB,EAAOc,GAAKC,MAD5B,cAAAC,OAC8ChB,EAAOc,GAAKG,OACxDX,EAAAC,EAAAC,cAAA,UACEU,QAAS,kBAvDF,SAACJ,EAAKK,GACzB,IAAIC,EAAY9B,OAAA+B,EAAA,EAAA/B,CAAA,GAAQU,GAExB,GAAY,eAARc,EAAsB,KAAAQ,EAClBC,EAAkB,OAAGH,QAAH,IAAGA,OAAH,UAAAE,EAAGF,EAAcI,kBAAjB,IAAAF,OAAA,EAAGA,EAA0BG,OACnD,SAACC,GAAD,OAAUA,EAAKC,OAASR,IAO1B,OAJAC,EAAaI,WAAaD,OAE1BtB,EAAUmB,UAKLA,EAAaN,GAEpBb,EAAUmB,GAsCiBQ,CAAad,IAC5BL,UAAU,oCAFZ,YAnB2B,QA8BnCH,EAAAC,EAAAC,cAAA,WACGZ,GACCU,EAAAC,EAAAC,cAAA,UACEqB,aAAa,GACbpB,UAAU,oBACVqB,SAxHc,SAACC,GACvB,IAAAC,EAAyBD,EAAME,cAAvBlB,EAARiB,EAAQjB,MAAOE,EAAfe,EAAef,MAEfxB,EAAgBsB,GAEhBd,EAAU,SAACiC,GAAD,OAAA5C,OAAA+B,EAAA,EAAA/B,CAACA,OAAA+B,EAAA,EAAA/B,CAAA,GACN4C,GADK,GAAA5C,OAAA6C,EAAA,EAAA7C,CAAA,GAEPyB,EAAQ,CACPA,MAAOmB,EAAUnB,GACjBE,eAiHIX,EAAAC,EAAAC,cAAA,UAAQO,MAAM,GAAGqB,UAAQ,GAAzB,iBAGA9B,EAAAC,EAAAC,cAAA,UACEO,MAAM,UACNE,MAAM,oBACNmB,WAAY9C,OAAOsB,KAAKZ,GAAQqC,KAAK,SAACvB,GAAD,MAAiB,YAARA,KAHhD,qBAOAR,EAAAC,EAAAC,cAAA,UACEO,MAAM,cACNqB,WACI9C,OAAOsB,KAAKZ,GAAQqC,KAAK,SAACvB,GAAD,MAAiB,gBAARA,KAHxC,aAQAR,EAAAC,EAAAC,cAAA,UACEO,MAAM,aACNqB,WACI9C,OAAOsB,KAAKZ,GAAQqC,KAAK,SAACvB,GAAD,MAAiB,eAARA,KAHxC,WAQAR,EAAAC,EAAAC,cAAA,UACEO,MAAM,cACNqB,WACI9C,OAAOsB,KAAKZ,GAAQqC,KAAK,SAACvB,GAAD,MAAiB,gBAARA,KAHxC,cAQAR,EAAAC,EAAAC,cAAA,UACEO,MAAM,WACNqB,WAAY9C,OAAOsB,KAAKZ,GAAQqC,KAAK,SAACvB,GAAD,MAAiB,aAARA,KAFhD,UAUHlB,KAAiB,CAAC,cAAc0C,SAAS9C,IACxCc,EAAAC,EAAAC,cAAA,SACE+B,KAAK,OACLC,YAAY,gBACZ/B,UAAU,MACVqB,SA7JiB,SAACC,GAC1B,IAAQhB,EAAUgB,EAAME,cAAhBlB,MAERd,EAAU,SAACiC,GAAD,OAAA5C,OAAA+B,EAAA,EAAA/B,CAACA,OAAA+B,EAAA,EAAA/B,CAAA,GACN4C,GADK,GAAA5C,OAAA6C,EAAA,EAAA7C,CAAA,GAEPE,EAAeuB,SA4JbnB,KACGJ,EAAaiD,UACb,CAAC,UAAW,cAAe,WAAY,eAAeH,SACtD9C,IAEAc,EAAAC,EAAAC,cAACkC,EAAA,SAAD,CACEjC,UAAU,eACVqB,SAAU,SAACf,GAAD,OAhJD,SAACgB,GACpB,IAAQhB,EAAiBgB,EAAjBhB,MAAOE,EAAUc,EAAVd,MAEfhB,EAAU,SAACiC,GAAD,OAAA5C,OAAA+B,EAAA,EAAA/B,CAACA,OAAA+B,EAAA,EAAA/B,CAAA,GACN4C,GADK,GAAA5C,OAAA6C,EAAA,EAAA7C,CAAA,GAEPE,EAAe,CACduB,QACAE,aAyI2B0B,CAAa5B,IAClCA,MAAO,CACLA,MAAOf,EAAOR,IAAiB,GAC/ByB,OACE,QAAAjC,EAAA4D,EAASpD,UAAT,IAAAR,OAAA,UAAAC,EAAAD,EAAwBqD,KACtB,SAACQ,GAAD,OAAOA,EAAEC,KAAO9C,EAAOR,YADzB,IAAAP,OAAA,EAAAA,EAEG0C,OAAQ,aAEfV,MAAM,kBACN8B,WAAS,GAETzC,EAAAC,EAAAC,cAACkC,EAAA,OAAD,CAAQf,KAAK,SAASV,MAAM,iBAAiB+B,QAAQ,WAbvD,QAAA9D,EAcG0D,EAASpD,UAdZ,IAAAN,OAAA,EAcGA,EAAwB2B,IAAI,SAACoC,GAAD,OAC3B3C,EAAAC,EAAAC,cAACkC,EAAA,OAAD,CAAQ5B,IAAKmC,EAAOH,GAAI/B,MAAOkC,EAAOH,GAAI7B,MAAOgC,EAAOtB,UAoB/D/B,GACCU,EAAAC,EAAAC,cAAA,UACEU,QAAS,kBAnJO,SAAC4B,GACzB,IAAMI,EAAW5D,OAAA+B,EAAA,EAAA/B,CAAA,GAAQU,UAElBkD,EAAYJ,GAEnB7C,EAAUiD,GAEVzD,GAAgB,GA4IO0D,CAAkB3D,IACjCiB,UAAU,yCAFZ,MASJH,EAAAC,EAAAC,cAAA,UACEU,QAAS,kBACNtB,EAlPU,WACjB,GAAqB,eAAjBJ,EAA+B,CACjC,IAAM4D,GAAsB,OAANpD,QAAM,IAANA,OAAA,EAAAA,EAAQwB,aAAc,GAE5CvB,EAAU,SAACiC,GAAD,OAAA5C,OAAA+B,EAAA,EAAA/B,CAACA,OAAA+B,EAAA,EAAA/B,CAAA,GACN4C,GADK,IAERV,WAAU,GAAAR,OAAA1B,OAAA+D,EAAA,EAAA/D,CAAM8D,GAAN,CAAqBhD,QAGjCC,EAAoB,IAEtBR,GAAe,GACfJ,EAAgB,IAsOoC6D,GAA/BzD,GAAgBD,IAEjCa,UAAU,+HAEPjB,EAAe,aAAe,qBCjQzC+D,IAASC,OAAOlD,EAAAC,EAAAC,cAACiD,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.d4862c37.chunk.js","sourcesContent":["// Dependencies\nimport React, { useState } from \"react\";\nimport { Picklist, Option } from \"react-rainbow-components\";\n\n// Styles\nimport \"./tailwind.output.css\";\n\nimport mockData from \"./mockData.json\";\n\nconst App = () => {\n  const [currentField, setCurrentField] = useState(\"\");\n  const [isActiveAdd, setIsActiveAdd] = useState(false);\n  const [fields, setFields] = useState({});\n  const [customPropertier, setCustomPropertier] = useState({});\n\n  const handleSave = () => {\n    if (currentField === \"properties\") {\n      const newProperties = fields?.properties || [];\n\n      setFields((prevState) => ({\n        ...prevState,\n        properties: [...newProperties, customPropertier]\n      }));\n\n      setCustomPropertier({});\n    }\n    setIsActiveAdd(false);\n    setCurrentField(\"\");\n  };\n\n  const handleTypeField = (event) => {\n    const { value, label } = event.currentTarget;\n\n    setCurrentField(value);\n\n    setFields((prevState) => ({\n      ...prevState,\n      [value]: {\n        value: prevState[value],\n        label\n      }\n    }));\n  };\n\n  const handleAddNameField = (event) => {\n    const { value } = event.currentTarget;\n\n    setFields((prevState) => ({\n      ...prevState,\n      [currentField]: value\n    }));\n  };\n\n  /*const handleAddPropertier = (event) => {\n    const { name: typeName, value } = event.currentTarget;\n\n    let currentValue = value;\n\n    if (typeName === \"name\") {\n      currentValue = String(currentValue.replace(\" \", \"_\").toLowerCase());\n    }\n\n    setCustomPropertier((prevState) => ({\n      ...prevState,\n      [typeName]: currentValue\n    }));\n  };*/\n\n  const handleSelect = (event) => {\n    const { value, label } = event;\n\n    setFields((prevState) => ({\n      ...prevState,\n      [currentField]: {\n        value,\n        label\n      }\n    }));\n  };\n\n  const handleDelete = (key, itemName) => {\n    let filterFields = { ...fields };\n\n    if (key === \"properties\") {\n      const filteredProperties = filterFields?.properties?.filter(\n        (item) => item.name !== itemName\n      );\n\n      filterFields.properties = filteredProperties;\n\n      setFields(filterFields);\n\n      return;\n    }\n\n    delete filterFields[key];\n\n    setFields(filterFields);\n  };\n\n  const handleRemoveInput = (id) => {\n    const customField = { ...fields };\n\n    delete customField[id];\n\n    setFields(customField);\n\n    setCurrentField(false);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-500 flex flex-col space-y-2 p-5\">\n      {JSON.stringify(fields)}\n      <ul>\n        {Object.keys(fields).map((key) => {\n          if (!fields[key].value) return null;\n\n          /*if (key === \"properties\") {\n            return fields[\"properties\"]?.map((el, i) => (\n              <li key={el.name} className=\"mb-2\">\n                {`${el.name} => ${el.value}`}\n                <button\n                  onClick={() => handleDelete(key, el.name)}\n                  className=\"bg-gray-600 px-1 mx-2 text-white\"\n                >\n                  Deletar\n                </button>\n              </li>\n            ));\n          }*/\n\n          return (\n            <li key={key} className=\"mb-2\">\n              {`${key} => ${fields[key].value} - Label: ${fields[key].label}`}\n              <button\n                onClick={() => handleDelete(key)}\n                className=\"bg-gray-600 px-1 mx-2 text-white\"\n              >\n                Deletar\n              </button>\n            </li>\n          );\n        })}\n      </ul>\n\n      <div>\n        {isActiveAdd && (\n          <select\n            defaultValue=\"\"\n            className=\"text-gray-800 h-6\"\n            onChange={handleTypeField}\n          >\n            <option value=\"\" disabled>\n              Tipo do campo\n            </option>\n            <option\n              value=\"unit_id\"\n              label=\"Unidade de medida\"\n              disabled={!!Object.keys(fields).find((key) => key === \"unit_id\")}\n            >\n              Unidade de medida\n            </option>\n            <option\n              value=\"category_id\"\n              disabled={\n                !!Object.keys(fields).find((key) => key === \"category_id\")\n              }\n            >\n              Categoria\n            </option>\n            <option\n              value=\"warehouses\"\n              disabled={\n                !!Object.keys(fields).find((key) => key === \"warehouses\")\n              }\n            >\n              Armazem\n            </option>\n            <option\n              value=\"supplier_id\"\n              disabled={\n                !!Object.keys(fields).find((key) => key === \"supplier_id\")\n              }\n            >\n              Fornecedor\n            </option>\n            <option\n              value=\"brand_id\"\n              disabled={!!Object.keys(fields).find((key) => key === \"brand_id\")}\n            >\n              Marca\n            </option>\n            {/*<option value=\"properties\">Propriedades cuspomizadas</option>*/}\n          </select>\n        )}\n\n        {isActiveAdd && !![\"warehouses\"].includes(currentField) && (\n          <input\n            type=\"text\"\n            placeholder=\"nome do campo\"\n            className=\"h-6\"\n            onChange={handleAddNameField}\n          />\n        )}\n\n        {isActiveAdd &&\n          !!currentField.length &&\n          !![\"unit_id\", \"category_id\", \"brand_id\", \"supplier_id\"].includes(\n            currentField\n          ) && (\n            <Picklist\n              className=\"rounded-none\"\n              onChange={(value) => handleSelect(value)}\n              value={{\n                value: fields[currentField] || \"\",\n                label:\n                  mockData[currentField]?.find(\n                    (e) => e.id === fields[currentField]\n                  )?.name || \"Selecione\"\n              }}\n              label=\"Select Building\"\n              hideLabel\n            >\n              <Option name=\"header\" label=\"Your Buildings\" variant=\"header\" />\n              {mockData[currentField]?.map((option) => (\n                <Option key={option.id} value={option.id} label={option.name} />\n              ))}\n            </Picklist>\n          )}\n\n        {/*isActiveAdd && currentField === \"properties\" && (\n          <div>\n            <input\n              placeholder=\"nome do campo\"\n              name=\"name\"\n              onChange={(event) => handleAddPropertier(event)}\n            />\n            <input\n              placeholder=\"valor do campo\"\n              name=\"value\"\n              onChange={(event) => handleAddPropertier(event)}\n            />\n          </div>\n        )*/}\n\n        {isActiveAdd && (\n          <button\n            onClick={() => handleRemoveInput(currentField)}\n            className=\"bg-indigo-500 w-6 h-6 text-white mx-1\"\n          >\n            -\n          </button>\n        )}\n      </div>\n\n      <button\n        onClick={() =>\n          !isActiveAdd ? setIsActiveAdd(!isActiveAdd) : handleSave()\n        }\n        className=\"w-full py-1 text-blue-600 border border-blue-600 border-dashed focus:outline-none hover:text-blue-700 hover:border-blue-700\"\n      >\n        {!!currentField ? \"Save field\" : \"+ Add new field\"}\n      </button>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}